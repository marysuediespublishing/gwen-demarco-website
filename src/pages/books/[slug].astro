---
import Layout from '../../layouts/Layout.astro';
import { SITE_TITLE } from '../../consts';
import { type CollectionEntry, getCollection, render } from 'astro:content';

export async function getStaticPaths() {
  const books = await getCollection('books');
  return books.map((book) => ({
    params: { slug: book.id },
    props: book,
  }));
}

type Props = CollectionEntry<'books'>;

const book = Astro.props;
const { Content } = await render(book);
const bookWithSlug = { ...book, slug: book.id };

// Helper function to map series names to slugs
function getSeriesSlug(seriesName: string): string | null {
  const seriesMap: Record<string, string> = {
    'Sophie Feegle': 'sophie-feegle',
    'Kingdom of Erishum': 'kingdom-of-erishum',
    'Auras & Embers': 'auras-and-embers'
  };
  return seriesMap[seriesName] || seriesName.toLowerCase().replace(/\s+/g, '-').replace(/&/g, 'and');
}

// Helper functions for name resolution
async function getSpeciesName(slug: string): Promise<string> {
  try {
    const speciesCollection = await getCollection('species');
    const species = speciesCollection.find(s => s.data.slug === slug || s.id === slug);
    return species?.data.name || formatSlugToName(slug);
  } catch (error) {
    return formatSlugToName(slug);
  }
}

async function getLocationName(slug: string): Promise<string> {
  try {
    const locationsCollection = await getCollection('locations');
    const location = locationsCollection.find(l => l.data.slug === slug || l.id === slug);
    return location?.data.name || formatSlugToName(slug);
  } catch (error) {
    return formatSlugToName(slug);
  }
}

function formatSlugToName(slug: string): string {
  return slug.split('-').map(word =>
    word.charAt(0).toUpperCase() + word.slice(1)
  ).join(' ');
}

function formatGenreName(genre: string): string {
  return genre.split(' ').map(word =>
    word.charAt(0).toUpperCase() + word.slice(1)
  ).join(' ');
}

// Fetch all books for related content
const allBooks = await getCollection('books');

// Fetch characters for this book
const allCharacters = await getCollection('characters');
const bookCharacters = allCharacters
  .filter(c => c.data.books?.includes(book.id))
  .sort((a, b) => {
    // Featured characters first
    if (a.data.featured && !b.data.featured) return -1;
    if (!a.data.featured && b.data.featured) return 1;
    // Then alphabetically by name
    return (a.data.name || '').localeCompare(b.data.name || '');
  });

// Process all books for related recommendations
const allBooksProcessed = allBooks.map(book => ({
  ...book,
  slug: book.id,
  coverUrl: book.data.cover || null
}));

const allSeries = await getCollection('series');

// Get books from the same series
const seriesBooks = book.data.series
  ? allBooksProcessed.filter(b => b.data.series === book.data.series && b.id !== book.id)
      .sort((a, b) => (a.data.seriesOrder || 0) - (b.data.seriesOrder || 0))
  : [];

// Get books with similar species
const similarBooks = allBooksProcessed.filter(b => {
  const currentSpecies = book.data.species || [];
  const bookSpecies = b.data.species || [];
  return b.id !== book.id &&
    bookSpecies.some(species => currentSpecies.includes(species));
}).slice(0, 4);

// Get testimonials if available
let bookTestimonials: any[] = [];
try {
  const testimonials = await getCollection('testimonials');
  bookTestimonials = testimonials.filter(t =>
    t.data.bookTitle === book.id
  );
} catch (error) {
  // No testimonials collection or no matching testimonials
}

// Calculate reading time (rough estimate: 250 words per minute)
const estimatedReadingTime = book.data.wordCount
  ? Math.round((book.data.wordCount / 250) / 60)
  : null;

// Resolve names for display with links
const currentSpecies = book.data.species || [];
const speciesData = currentSpecies.length > 0
  ? await Promise.all(currentSpecies.map(async slug => ({
      slug: slug,
      name: await getSpeciesName(slug)
    })))
  : [];

const settingsData = book.data.setting
  ? await Promise.all(book.data.setting.map(async slug => ({
      slug: slug,
      name: await getLocationName(slug)
    })))
  : [];

const genreNames = book.data.genres
  ? book.data.genres.map(genre => formatGenreName(genre))
  : [];

// Get site config for newsletter
let siteConfig: any = {};
try {
  const settingsCollection = await getCollection('settings');
  const siteConfigData = settingsCollection[0]?.data;
  siteConfig = {
    newsletter: {
      leadMagnetTitle: siteConfigData?.newsletter?.leadMagnetTitle || "Join the Supernatural Side",
      leadMagnetDescription: siteConfigData?.newsletter?.leadMagnetDescription || "Get exclusive content, early access to new releases, and behind-the-scenes peeks into the weird and wonderful worlds of urban fantasy."
    }
  };
} catch (error) {
  siteConfig = {
    newsletter: {
      leadMagnetTitle: "Join the Supernatural Side",
      leadMagnetDescription: "Get exclusive content, early access to new releases, and behind-the-scenes peeks into the weird and wonderful worlds of urban fantasy."
    }
  };
}

// Heat level display
const heatLevelDisplay: Record<string, { label: string; color: string }> = {
  mild: { label: 'Mild', color: 'text-heat-mild' },
  medium: { label: 'Medium', color: 'text-heat-medium' },
  spicy: { label: 'Spicy', color: 'text-heat-spicy' }
};
---

<Layout
  title={`${book.data.title} - ${SITE_TITLE}`}
  description={book.data.description}
>
  <main id="main-content" class="min-h-screen bg-shadow-black">
    <!-- Book Hero Section -->
    <section class="relative py-16 bg-gradient-night overflow-hidden">
      <!-- Fog Background Effect -->
      <div class="absolute inset-0 bg-gradient-fog opacity-30"></div>
      <div class="absolute inset-0 bg-gradient-to-t from-shadow-black/60 to-transparent"></div>

      <div class="container mx-auto px-4 relative z-10">
        <div class="max-w-6xl mx-auto">
          <!-- Breadcrumb -->
          <nav class="mb-8" aria-label="Breadcrumb">
            <ol class="flex items-center space-x-2 text-sm text-moon-silver/60">
              <li><a href="/" class="hover:text-moon-silver transition-colors">Home</a></li>
              <li class="text-moon-silver/40">/</li>
              <li><a href="/books" class="hover:text-moon-silver transition-colors">Books</a></li>
              {book.data.series && (
                <>
                  <li class="text-moon-silver/40">/</li>
                  <li>
                    <a href={`/series/${getSeriesSlug(book.data.series)}`} class="hover:text-moon-silver transition-colors">
                      {book.data.series}
                    </a>
                  </li>
                </>
              )}
              <li class="text-moon-silver/40">/</li>
              <li class="text-moon-silver">{book.data.title}</li>
            </ol>
          </nav>

          <div class="grid grid-cols-1 lg:grid-cols-3 gap-12 items-start">
            <!-- Book Cover & Purchase Options -->
            <div class="lg:col-span-1">
              <div class="sticky top-8">
                <!-- Book Cover -->
                <div class="mb-6">
                  {book.data.cover ? (
                    <img
                      src={book.data.cover}
                      alt={`${book.data.title} book cover`}
                      class="w-full max-w-sm mx-auto rounded-xl shadow-2xl hover:shadow-violet-glow transition-all duration-300 hover:scale-105"
                      width="400"
                      height="600"
                      loading="lazy"
                    />
                  ) : (
                    <div class="w-full max-w-sm mx-auto aspect-[2/3] bg-gradient-to-br from-mystic-violet/20 to-midnight-purple rounded-xl flex items-center justify-center border border-mystic-violet/30 shadow-2xl">
                      <span class="text-6xl opacity-60">ðŸ“–</span>
                    </div>
                  )}
                </div>

                <!-- Purchase Options -->
                <div class="space-y-4 mb-6">
                  {book.data.isKU && book.data.amazonUrl && (
                    <a
                      href={book.data.amazonUrl}
                      class="btn btn-primary w-full py-3 text-base"
                      target="_blank"
                      rel="noopener noreferrer"
                    >
                      Read FREE on Kindle Unlimited
                    </a>
                  )}

                  {book.data.amazonUrl && (
                    <a
                      href={book.data.amazonUrl}
                      class="btn btn-secondary w-full py-3 text-base"
                      target="_blank"
                      rel="noopener noreferrer"
                    >
                      Buy on Amazon {book.data.price && `(${book.data.price})`}
                    </a>
                  )}

                  {book.data.goodreadsUrl && (
                    <a
                      href={book.data.goodreadsUrl}
                      class="btn btn-outline w-full py-3 text-base"
                      target="_blank"
                      rel="noopener noreferrer"
                    >
                      Add to Goodreads
                    </a>
                  )}
                </div>

                <!-- Book Details Card -->
                <div class="card p-6">
                  <h3 class="text-lg font-primary font-bold text-bone-white mb-4">Book Details</h3>
                  <div class="space-y-3 text-sm">
                    {book.data.series && (
                      <div class="flex justify-between">
                        <span class="text-fog-gray">Series:</span>
                        <span class="text-ember-orange font-medium">
                          <a href={`/series/${getSeriesSlug(book.data.series)}`} class="hover:underline">
                            {book.data.series}
                          </a>
                        </span>
                      </div>
                    )}
                    {book.data.seriesOrder && (
                      <div class="flex justify-between">
                        <span class="text-fog-gray">Book #:</span>
                        <span class="text-moon-silver font-medium">{book.data.seriesOrder}</span>
                      </div>
                    )}
                    <div class="flex justify-between">
                      <span class="text-fog-gray">Published:</span>
                      <span class="text-moon-silver font-medium">
                        {new Date(book.data.pubDate).toLocaleDateString('en-US', {
                          year: 'numeric',
                          month: 'long',
                          day: 'numeric'
                        })}
                      </span>
                    </div>
                    {book.data.pageCount && (
                      <div class="flex justify-between">
                        <span class="text-fog-gray">Pages:</span>
                        <span class="text-moon-silver font-medium">{book.data.pageCount}</span>
                      </div>
                    )}
                    {book.data.wordCount && (
                      <div class="flex justify-between">
                        <span class="text-fog-gray">Word Count:</span>
                        <span class="text-moon-silver font-medium">{book.data.wordCount.toLocaleString()}</span>
                      </div>
                    )}
                    {estimatedReadingTime && (
                      <div class="flex justify-between">
                        <span class="text-fog-gray">Reading Time:</span>
                        <span class="text-moon-silver font-medium">~{estimatedReadingTime}h</span>
                      </div>
                    )}
                    <div class="flex justify-between">
                      <span class="text-fog-gray">Heat Level:</span>
                      <span class={`font-medium capitalize ${heatLevelDisplay[book.data.heatLevel]?.color || 'text-moon-silver'}`}>
                        {heatLevelDisplay[book.data.heatLevel]?.label || book.data.heatLevel}
                      </span>
                    </div>
                    {book.data.rating > 0 && (
                      <div class="flex justify-between">
                        <span class="text-fog-gray">Rating:</span>
                        <span class="text-moon-silver font-medium">
                          {book.data.rating.toFixed(1)} <span class="text-ember-orange">â˜…</span> ({book.data.ratingCount?.toLocaleString() || 0})
                        </span>
                      </div>
                    )}
                  </div>

                  <!-- Tags/Categories -->
                  <div class="mt-6 pt-4 border-t border-dark-border">
                    {bookCharacters.length > 0 && (
                      <div class="mb-3">
                        <h4 class="text-sm font-medium text-moon-silver mb-2">Characters:</h4>
                        <div class="flex flex-wrap gap-2">
                          {bookCharacters.map((character) => (
                            <a
                              href={`/characters/${character.data.slug}`}
                              class="badge badge-primary text-xs hover:bg-ember-orange/25 transition-colors"
                            >
                              {character.data.name}
                            </a>
                          ))}
                        </div>
                      </div>
                    )}

                    {speciesData.length > 0 && (
                      <div class="mb-3">
                        <h4 class="text-sm font-medium text-moon-silver mb-2">Species:</h4>
                        <div class="flex flex-wrap gap-2">
                          {speciesData.map((species) => (
                            <a
                              href={`/species/${species.slug}`}
                              class="badge badge-primary text-xs hover:bg-ember-orange/25 transition-colors"
                            >
                              {species.name}
                            </a>
                          ))}
                        </div>
                      </div>
                    )}

                    {settingsData.length > 0 && (
                      <div class="mb-3">
                        <h4 class="text-sm font-medium text-moon-silver mb-2">Setting:</h4>
                        <div class="flex flex-wrap gap-2">
                          {settingsData.map((setting) => (
                            <a
                              href={`/locations/${setting.slug}`}
                              class="badge badge-secondary text-xs hover:bg-ember-orange/25 transition-colors"
                            >
                              {setting.name}
                            </a>
                          ))}
                        </div>
                      </div>
                    )}

                    {genreNames.length > 0 && (
                      <div>
                        <h4 class="text-sm font-medium text-moon-silver mb-2">Genres:</h4>
                        <div class="flex flex-wrap gap-2">
                          {genreNames.map((genreName, index) => (
                            <span class="badge badge-outline text-xs">
                              {genreName}
                            </span>
                          ))}
                        </div>
                      </div>
                    )}
                  </div>
                </div>
              </div>
            </div>

            <!-- Book Information -->
            <div class="lg:col-span-2">
              <div class="space-y-8">
                <div>
                  <h1 class="text-4xl md:text-5xl font-primary font-bold text-bone-white mb-4">
                    <span class="bg-gradient-to-r from-mystic-violet via-ember-orange to-mystic-teal bg-clip-text text-transparent">
                      {book.data.title}
                    </span>
                  </h1>

                  <div class="text-lg text-ember-orange font-medium mb-6">
                    by {book.data.author}
                    {book.data.series && book.data.seriesOrder && (
                      <span class="text-fog-gray"> â€¢ Book {book.data.seriesOrder} of {book.data.series}</span>
                    )}
                  </div>

                  <!-- Book Description / Content -->
                  <div class="prose prose-lg max-w-none text-moon-silver/90 leading-relaxed">
                    <Content />
                  </div>
                </div>

                <!-- Social Sharing -->
                <div class="flex items-center space-x-4 py-4 border-y border-dark-border">
                  <span class="text-fog-gray text-sm">Share:</span>
                  <div class="flex space-x-3">
                    <!-- Twitter/X Share -->
                    <a
                      href={`https://twitter.com/intent/tweet?text=Check out "${book.data.title}" by ${book.data.author}&url=${encodeURIComponent(`https://gwendemarco.com/books/${book.id}`)}`}
                      target="_blank"
                      rel="noopener noreferrer"
                      class="text-fog-gray hover:text-mystic-teal transition-colors"
                      aria-label="Share on Twitter"
                    >
                      <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                      </svg>
                    </a>

                    <!-- Facebook Share -->
                    <a
                      href={`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(`https://gwendemarco.com/books/${book.id}`)}`}
                      target="_blank"
                      rel="noopener noreferrer"
                      class="text-fog-gray hover:text-mystic-violet transition-colors"
                      aria-label="Share on Facebook"
                    >
                      <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                      </svg>
                    </a>

                    <!-- Pinterest Share -->
                    <a
                      href={`https://pinterest.com/pin/create/button/?url=${encodeURIComponent(`https://gwendemarco.com/books/${book.id}`)}&description=${encodeURIComponent(book.data.title + ' by ' + book.data.author)}`}
                      target="_blank"
                      rel="noopener noreferrer"
                      class="text-fog-gray hover:text-ember-orange transition-colors"
                      aria-label="Share on Pinterest"
                    >
                      <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.162-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024 0 1.518.769 1.518 1.688 0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.741.099.12.112.225.085.345-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.401.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.354-.629-2.758-1.379l-.749 2.848c-.269 1.045-1.004 2.352-1.498 3.146 1.123.345 2.306.535 3.55.535 6.607 0 11.985-5.365 11.985-11.987C23.97 5.39 18.592.026 11.985.026L12.017 0z"/>
                      </svg>
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Reader Reviews -->
    {bookTestimonials.length > 0 && (
      <section class="py-16 bg-dark-surface">
        <div class="container mx-auto px-4">
          <div class="text-center mb-12">
            <h2 class="text-3xl md:text-4xl font-primary font-bold text-bone-white mb-4">
              What Readers Are Saying
            </h2>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto">
            {bookTestimonials.slice(0, 6).map((testimonial) => (
              <div class="card p-6">
                <div class="flex items-center mb-4">
                  <div class="flex text-ember-orange">
                    {Array.from({ length: testimonial.data.rating }, (_, i) => (
                      <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                      </svg>
                    ))}
                  </div>
                  {testimonial.data.verified && (
                    <span class="ml-2 text-xs bg-mystic-teal/20 text-mystic-teal px-2 py-1 rounded">
                      Verified Purchase
                    </span>
                  )}
                </div>
                <blockquote class="text-moon-silver/90 mb-4 italic">
                  "{testimonial.data.quote}"
                </blockquote>
                <div class="text-sm text-fog-gray">
                  â€” {testimonial.data.reviewerName}
                  <span class="capitalize ml-1">({testimonial.data.reviewerPlatform})</span>
                </div>
              </div>
            ))}
          </div>
        </div>
      </section>
    )}

    <!-- More from This Series -->
    {seriesBooks.length > 0 && (
      <section class="py-16 bg-shadow-black">
        <div class="container mx-auto px-4">
          <div class="text-center mb-12">
            <h2 class="text-3xl md:text-4xl font-primary font-bold text-bone-white mb-4">
              More from {book.data.series}
            </h2>
            <p class="text-lg text-fog-gray">
              Continue the adventure in this interconnected series
            </p>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 max-w-6xl mx-auto">
            {seriesBooks.slice(0, 4).map((seriesBook) => (
              <a href={`/books/${seriesBook.slug}`} class="card card-hover group p-4">
                {seriesBook.data.cover ? (
                  <img
                    src={seriesBook.data.cover}
                    alt={`${seriesBook.data.title} book cover`}
                    class="w-full aspect-[2/3] object-cover rounded-lg mb-3"
                    width="300"
                    height="450"
                    loading="lazy"
                  />
                ) : (
                  <div class="w-full aspect-[2/3] bg-gradient-to-br from-mystic-violet/20 to-midnight-purple rounded-lg mb-3 flex items-center justify-center border border-mystic-violet/30 group-hover:border-ember-orange/50 transition-colors">
                    <span class="text-3xl opacity-60">ðŸ“–</span>
                  </div>
                )}

                {seriesBook.data.seriesOrder && (
                  <span class="badge badge-secondary text-xs mb-2">Book {seriesBook.data.seriesOrder}</span>
                )}

                <h3 class="font-primary text-lg font-bold text-ember-orange mb-1 group-hover:text-mystic-teal transition-colors line-clamp-2">
                  {seriesBook.data.title}
                </h3>

                {seriesBook.data.rating && (
                  <div class="flex items-center space-x-1">
                    <span class="text-ember-orange text-sm">â˜…</span>
                    <span class="text-moon-silver text-xs">{seriesBook.data.rating}</span>
                  </div>
                )}
              </a>
            ))}
          </div>

          {seriesBooks.length > 4 && (
            <div class="text-center mt-8">
              <a
                href={`/series/${getSeriesSlug(book.data.series!)}`}
                class="btn btn-primary px-8 py-3"
              >
                View Full Series
              </a>
            </div>
          )}
        </div>
      </section>
    )}

    <!-- Similar Books -->
    {similarBooks.length > 0 && (
      <section class="py-16 bg-dark-surface">
        <div class="container mx-auto px-4">
          <div class="text-center mb-12">
            <h2 class="text-3xl md:text-4xl font-primary font-bold text-bone-white mb-4">
              Readers Also Enjoyed
            </h2>
            <p class="text-lg text-fog-gray">
              Books featuring similar supernatural creatures and themes
            </p>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 max-w-6xl mx-auto">
            {similarBooks.map((similarBook) => (
              <a href={`/books/${similarBook.slug}`} class="card card-hover group p-4">
                {similarBook.data.cover ? (
                  <img
                    src={similarBook.data.cover}
                    alt={`${similarBook.data.title} book cover`}
                    class="w-full aspect-[2/3] object-cover rounded-lg mb-3"
                    width="300"
                    height="450"
                    loading="lazy"
                  />
                ) : (
                  <div class="w-full aspect-[2/3] bg-gradient-to-br from-mystic-violet/20 to-midnight-purple rounded-lg mb-3 flex items-center justify-center border border-mystic-violet/30 group-hover:border-ember-orange/50 transition-colors">
                    <span class="text-3xl opacity-60">ðŸ“–</span>
                  </div>
                )}

                {similarBook.data.series && (
                  <span class="badge badge-outline text-xs mb-2">{similarBook.data.series}</span>
                )}

                <h3 class="font-primary text-lg font-bold text-ember-orange mb-1 group-hover:text-mystic-teal transition-colors line-clamp-2">
                  {similarBook.data.title}
                </h3>

                {similarBook.data.rating && (
                  <div class="flex items-center space-x-1">
                    <span class="text-ember-orange text-sm">â˜…</span>
                    <span class="text-moon-silver text-xs">{similarBook.data.rating}</span>
                  </div>
                )}
              </a>
            ))}
          </div>
        </div>
      </section>
    )}

    <!-- Newsletter CTA -->
    <section class="py-16 bg-gradient-to-r from-midnight-purple via-shadow-black to-midnight-purple">
      <div class="container mx-auto px-4 text-center">
        <div class="max-w-3xl mx-auto">
          <h2 class="text-3xl md:text-4xl font-primary font-bold text-bone-white mb-4">
            Loved This Book?
          </h2>
          <p class="text-xl mb-8 text-moon-silver/90">
            {siteConfig.newsletter?.leadMagnetDescription}
          </p>

          <button
            type="button"
            class="btn btn-primary px-8 py-4 text-lg newsletter-trigger"
          >
            Join the Supernatural Side
          </button>
        </div>
      </div>
    </section>
  </main>
</Layout>
